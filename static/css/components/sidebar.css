/* 
 * Billipocket Sidebar Component
 * Exact implementation per requirements
 */

/* === DESIGN TOKENS === */
:root {
  --sidebar-w: 196px;     /* expanded */
  --sidebar-mini: 72px;   /* mini */
  --accent: #11D6DE;      /* logo + hover/glow + toggles */
  
  /* Additional colors */
  --bp-sidebar-bg: #114f68;
  --bp-sidebar-contrast: #ECFEFF;
  --bp-sidebar-dark: #083848;
}

/* === APP LAYOUT GRID === */
.bp-app {
  min-height: 100vh !important;
  display: grid !important;
  grid-template-columns: var(--sidebar-w) 1fr !important;
  grid-template-areas: "sidebar main" !important;
  transition: grid-template-columns .28s ease !important;
}

/* Mini state */
body.has-collapsed .bp-app {
  grid-template-columns: var(--sidebar-mini) 1fr !important;
}

.bp-main {
  grid-area: main;
  padding: 24px;
}

/* === MAIN SIDEBAR COMPONENT === */
.bp-sidebar {
  grid-area: sidebar;
  background: linear-gradient(135deg, #0a2b3d 0%, #114f68 35%, #0f2027 65%, #114f68 100%);
  color: var(--bp-sidebar-contrast);
  display: flex;
  flex-direction: column;
  border-right: 1px solid rgba(17, 214, 222, 0.2);
  position: sticky;
  top: 0;
  height: 100dvh;
  overflow: visible;
  width: var(--sidebar-w);
  box-shadow: 0 10px 30px rgba(0, 0, 0, .25);
  z-index: 1200;
  transition: width .28s ease, transform .28s ease;
}

.bp-sidebar,
.bp-sidebar * {
  color: var(--bp-sidebar-contrast) !important;
}

/* === HEADER / BRAND === */
.bp-header {
  overflow: visible;
  padding: 16px;
  border-bottom: 1px solid rgba(255, 255, 255, .08);
}

.bp-header .bp-brand {
  color: var(--accent);
  text-shadow: 0 0 10px rgba(17,214,222,.55);
  font-weight: 800;
  line-height: 1.05;
  font-size: clamp(18px, 2.4vw, 24px);
  white-space: normal;
  overflow-wrap: anywhere;
  word-break: break-word;
  max-width: calc(var(--sidebar-w) - 32px);
  display: block;
}

/* Legacy brand support */
.bp-brand {
  display: flex;
  align-items: center;
  gap: .6rem;
  padding: 18px 22px;
  border-bottom: 1px solid rgba(255, 255, 255, .08);
}

.bp-brand-full {
  color: var(--accent) !important;
  text-shadow: 0 0 10px rgba(17,214,222,.55) !important;
  font-weight: 800 !important;
  line-height: 1.05 !important;
  font-size: clamp(18px, 2.4vw, 24px) !important;
  white-space: normal !important;
  overflow-wrap: anywhere !important;
  word-break: break-word !important;
  max-width: calc(var(--sidebar-w) - 32px) !important;
  display: block !important;
}

.bp-brand-short {
  display: none;
  font-weight: 800;
  font-size: 28px;
  letter-spacing: .5px;
  color: var(--accent);
  text-shadow: 0 0 10px rgba(17,214,222,.55);
}

/* === NAVIGATION === */
.bp-nav {
  padding: 20px 10px 24px;
  overflow: auto;
  flex: 1;
}

.bp-nav .nav {
  list-style: none;
  margin: 0;
  padding: 0;
}

.bp-nav .nav-link {
  display: flex !important;
  align-items: center !important;
  gap: .9rem !important;
  padding: 14px 14px !important;
  margin: 6px 8px !important;
  border-radius: 14px !important;
  color: var(--bp-sidebar-contrast) !important;
  opacity: .95 !important;
  transition: color .2s ease, text-shadow .2s ease !important;
  cursor: pointer !important;
  text-decoration: none !important;
  width: auto !important;
  height: 44px !important;
  background: transparent !important;
  border: none !important;
}

.bp-nav .bi,
.bp-nav svg {
  width: 24px;
  height: 24px;
  flex: 0 0 auto;
  fill: currentColor;
}

.bp-nav .nav-link i,
.bp-nav .nav-link .bi {
  font-size: 22px;
  opacity: .9;
  font-family: bootstrap-icons !important;
  display: inline-block !important;
  visibility: visible !important;
  width: 24px;
  height: 24px;
  flex: 0 0 auto;
}

/* === HOVER & ACTIVE (no background) === */
.bp-nav .nav-link:hover,
.bp-nav .nav-link.active {
  color: var(--accent);
  text-shadow: 0 0 10px rgba(17,214,222,.55);
}

.bp-nav .nav-link .bi {
  fill: currentColor;
}

.bp-nav .nav-link:hover i,
.bp-nav .nav-link.active i,
.bp-nav .nav-link:hover .bi,
.bp-nav .nav-link.active .bi {
  color: var(--accent) !important;
  text-shadow: 0 0 10px rgba(17,214,222,.55);
}

/* === MINI VIEW (icon-only) === */
body.has-collapsed .bp-nav .nav-link {
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  width: var(--sidebar-mini) !important;
  height: 44px !important;
  padding: 0 !important;
  gap: 0 !important;
}

body.has-collapsed .bp-nav .nav-link .label,
body.has-collapsed .bp-nav .nav-link span {
  display: none;
}

body.has-collapsed .bp-sidebar {
  width: var(--sidebar-mini);
}

body.has-collapsed .bp-brand-full {
  display: none;
}

body.has-collapsed .bp-brand-short {
  display: block;
}

body.has-collapsed .bp-brand {
  justify-content: center;
}

/* === TOGGLE BUTTON (edge control) === */
.bp-edge {
  position: absolute;
  right: -16px;
  top: 14px;
  width: 30px;
  height: 30px;
  border-radius: 10px;
  border: 2px solid var(--accent);
  color: var(--accent);
  display: grid;
  place-items: center;
  background: transparent;
  z-index: 1000;
  cursor: pointer;
  box-shadow: 0 0 8px rgba(17,214,222,.5);
  font-size: 0;
}

.bp-edge::after {
  content: "";
  position: absolute;
  inset: -7px;
}

.bp-edge:hover {
  box-shadow: 0 0 12px rgba(17,214,222,.75);
}

.bp-edge i {
  font-size: 16px;
  line-height: 1;
}

/* === MOBILE VIEW === */
@media (max-width: 767.98px) {
  .bp-app {
    grid-template-columns: 1fr !important;
  }
  
  .bp-sidebar {
    position: fixed;
    left: 0;
    top: 0;
    bottom: 0;
    width: var(--sidebar-w);
    transform: translateX(-100%);
    z-index: 1500;
    will-change: transform;
  }
  
  .bp-sidebar.show {
    transform: translateX(0);
  }
  
  .bp-edge {
    display: none !important;
  }
  
  .bp-fab {
    position: fixed;
    left: 10px;
    top: 12px;
    width: 30px;
    height: 30px;
    border-radius: 10px;
    border: 2px solid var(--accent);
    color: var(--accent);
    background: transparent;
    display: grid;
    place-items: center;
    z-index: 1100;
    cursor: pointer;
    box-shadow: 0 0 8px rgba(17,214,222,.5);
    font-size: 0;
  }
  
  .bp-fab::after {
    content: "";
    position: absolute;
    inset: -7px;
  }
  
  .bp-fab:hover {
    box-shadow: 0 0 12px rgba(17,214,222,.75);
  }
  
  .bp-fab i {
    font-size: 16px;
    line-height: 1;
  }
  
  body.menu-open .bp-fab {
    display: none;
  }
  
  .bp-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, .45);
    backdrop-filter: blur(1px);
    opacity: 0;
    visibility: hidden;
    transition: opacity .25s;
    z-index: 1400;
  }
  
  .bp-overlay.show {
    opacity: 1;
    visibility: visible;
  }
  
  .bp-main {
    padding: 16px 16px 24px 12px;
  }
  
  body.no-scroll {
    overflow: hidden;
  }
}

/* === TABLET/MEDIUM VIEW (768-1024px) === */
@media (min-width: 768px) and (max-width: 1024px) {
  /* Default mini state */
  .bp-app {
    grid-template-columns: var(--sidebar-mini) 1fr !important;
  }
  
  .bp-sidebar {
    width: var(--sidebar-mini);
    overflow: visible;
  }
  
  .bp-brand-full {
    display: none;
  }
  
  .bp-brand-short {
    display: block;
  }
  
  .bp-nav .nav-link {
    justify-content: center !important;
    padding: 14px 10px !important;
    gap: 0 !important;
    width: var(--sidebar-mini) !important;
    height: 44px !important;
  }
  
  .bp-nav .nav-link span,
  .bp-nav .nav-link .label {
    display: none;
  }
  
  .bp-brand {
    justify-content: center;
  }
  
  .bp-edge {
    right: calc(100vw - var(--sidebar-mini) + 18px);
  }
  
  .bp-fab {
    display: none !important;
  }
  
  /* Expanded state */
  body.expanded .bp-app {
    grid-template-columns: var(--sidebar-w) 1fr !important;
  }
  
  body.expanded .bp-sidebar {
    width: var(--sidebar-w);
  }
  
  body.expanded .bp-brand-full {
    display: block;
  }
  
  body.expanded .bp-brand-short {
    display: none;
  }
  
  body.expanded .bp-nav .nav-link {
    justify-content: flex-start !important;
    padding: 14px 14px !important;
    gap: 0.9rem !important;
    width: auto !important;
  }
  
  body.expanded .bp-nav .nav-link span,
  body.expanded .bp-nav .nav-link .label {
    display: inline;
  }
  
  body.expanded .bp-brand {
    justify-content: flex-start;
  }
  
  body.expanded .bp-edge {
    right: calc(100vw - var(--sidebar-w) + 18px);
  }
}

/* === DESKTOP VIEW (â‰¥1025px) === */
@media (min-width: 1025px) {
  .bp-fab {
    display: none !important;
  }
  
  .bp-edge {
    right: calc(100vw - var(--sidebar-w) + 18px);
  }
  
  /* Collapsed state */
  body.has-collapsed .bp-app {
    grid-template-columns: var(--sidebar-mini) 1fr !important;
  }
  
  body.has-collapsed .bp-edge {
    right: calc(100vw - var(--sidebar-mini) + 18px);
  }
}

/* === FOOTER STYLES === */
.bp-sidebar .bp-footer-cyan,
.bp-sidebar .badge.bp-footer-cyan,
.bp-sidebar span.bp-footer-cyan {
  color: var(--accent) !important;
}

.bp-sidebar .badge.bg-transparent.bp-footer-cyan {
  border-color: var(--accent) !important;
}

.bp-sidebar > div:last-child .d-flex {
  align-items: center !important;
  gap: 8px !important;
}

/* === FOCUS STYLES === */
.bp-edge:focus,
.bp-fab:focus {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(17, 214, 222, 0.3);
}

/* === ANIMATIONS === */
.bp-sidebar {
  transition: width 0.28s cubic-bezier(0.4, 0, 0.2, 1),
              transform 0.28s cubic-bezier(0.4, 0, 0.2, 1);
}

.bp-edge,
.bp-fab {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.bp-nav .nav-link {
  transition: color 0.15s ease, text-shadow 0.15s ease, transform 0.1s ease;
}

.bp-nav .nav-link:active {
  transform: scale(0.98);
}